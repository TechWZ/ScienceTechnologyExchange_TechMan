<div class="container-fluid">
  <div class="row justify-content-around">
    <div class="col-8 mt-5" id="personalCollectCourseCard">
      <!-- 个人收藏课程列表 -->
    </div>
    <div class="col-3" id="personalInfoDiv">
    </div>
  </div>
</div>

<script>
  $(function () {
    $.ajax({
      xhrFields: { withCredentials: true },
      type: "get",
      url: "http://127.0.0.1:8080/STE/getPersonalCollectProgram",
      success: function (result) {
        $.getScript('/handlebarsTemplateFile/compiledFile/userSystem/personalCollectCourseCard.hbs.js').then(() => {
          let data = new Object;
          data.personalProgramArray = result;
          let dataHtml = Handlebars.templates.personalCollectCourseCard(data);
          $("#personalCollectCourseCard").html(dataHtml);
        });
      }
    });
    $.ajax({
      xhrFields: { withCredentials: true },
      type: "get",
      url: "http://127.0.0.1:8080/STE/getUserInfo",
      success: function (result) {
        $.getScript('/handlebarsTemplateFile/compiledFile/userSystem/rightPersonalInfo.hbs.js').then(() => {
          let userInfoData = new Object;
          userInfoData.userInfo = result;
          let dataHtml = Handlebars.templates.rightPersonalInfo(userInfoData);
          $("#personalInfoDiv").html(dataHtml);
        });
      }
    });

    $("#submitButton").click(function () {
      var parameterData = new FormData();
      parameterData.append(
        "videoFile",
        $("#videoFile").files[0]
      );
      $.ajax({
        type: "post",
        url: "127.0.0.1:8080/STE/uploadVideo",
        processData: false, //不处理发送的数据
        contentType: false, //不设置Content-Type请求头
        data: parameterData,
        success: function (data) {
          alert(data);
        },
        error: function (data) {
          alert(data);
        }
      });
    });
  });
</script>